{{#partial "content"}}
<div class="container" id="main">
    <div class="col-md-12 col-sm-12 col-lg-10 col-lg-offset-1">
        <div class="panel panel-default content-main">
            <form id="question" name="question" action="/questions" method="post">
                <div class="form-group">
                    <label for="writer">글쓴이</label>
                    <input class="form-control" id="writer" name="writer" placeholder="글쓴이"/>
                </div>
                <div class="form-group">
                    <label for="title">제목</label>
                    <input type="text" class="form-control" id="title" name="title" placeholder="제목"/>
                </div>
                <div class="form-group">
                    <label for="contents">내용</label>
                    <textarea name="contents" id="contents" rows="5" class="form-control"></textarea>
                </div>
                <input type="button" id="button" class="btn btn-success clearfix pull-right" value="질문하기"/>
                <div class="clearfix"/>
            </form>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        jQuery.fn.serializeObject = function () {
            var obj = null;
            try {
                if (this[0].tagName && this[0].tagName.toUpperCase() == "FORM") {
                    var arr = this.serializeArray();
                    if (arr) {
                        obj = {};
                        jQuery.each(arr, function () {
                            obj[this.name] = this.value;
                        });
                    }
                }
            } catch (e) {
                alert(e.message);
            } finally {
            }
            return obj;
        };
        $("#button").click(function () {
            var jsonObj = JSON.stringify($("#question").serializeObject());
            $.ajax({
                type : "POST",
                url : "/questions",
                contentType : "application/json",
                data : jsonObj,
                success : function() {
                    window.location.href = "/";
                }
            })
        });
    });
</script>

{{/partial}}

{{> base}}